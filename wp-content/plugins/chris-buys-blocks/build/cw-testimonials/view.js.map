{"version":3,"file":"cw-testimonials/view.js","mappings":"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","sources":["webpack://chris-buys-blocks/./src/cw-testimonials/view.js"],"sourcesContent":["// import gsap from \"gsap\";\r\n// import { Draggable } from \"gsap/Draggable\";\r\n\r\n\r\nfunction loadCallback() {\r\n\tgsap.registerPlugin(Draggable);\r\n\r\n\tvar dots = document.querySelectorAll(\".cw-dot\");\r\n\r\n\tvar slideDelay = 2;\r\n\tvar slideDuration = 0.8;\r\n\tvar wrap = true;\r\n\r\n\tvar slides = document.querySelectorAll(\"._carousel-slide\");\r\n\tvar prevButton = document.querySelector(\"#prevButton\");\r\n\tvar nextButton = document.querySelector(\"#nextButton\");\r\n\r\n\t/////////////////////////////////////////////////////////////////////////////\r\n\tlet heightArr = [];\r\n\tvar elems = document.querySelectorAll(\".cw-testimonials__testimonial\");\r\n\r\n\telems.forEach((elem, index) => {\r\n\t\tlet heightBlock = elem.offsetHeight;\r\n\t\tconsole.log(heightBlock);\r\n\t\theightArr.push(heightBlock);\r\n\t});\r\n\r\n\tfunction getMaxOfArray(numArray) {\r\n\t\treturn Math.max.apply(null, numArray);\r\n\t}\r\n\tlet max = getMaxOfArray(heightArr);\r\n\r\n\t// console.log(max);\r\n\tconst carouselWrapper = document.querySelector(\"._carousel-wrapper\");\r\n\tcarouselWrapper.style.height = `${max}px`;\r\n\t/////////////////////////////////////////////////////////////////////////////\r\n\r\n\tvar progressWrap = gsap.utils.wrap(0, 1);\r\n\r\n\tvar numSlides = slides.length;\r\n\r\n\tgsap.set(slides, {\r\n\t\txPercent: (i) => i * 100,\r\n\t});\r\n\r\n\tvar wrapX = gsap.utils.wrap(-100, (numSlides - 1) * 100);\r\n\tvar timer = gsap.delayedCall(slideDelay, autoPlay);\r\n\r\n\tvar animation = gsap.to(slides, {\r\n\t\txPercent: \"+=\" + numSlides * 100,\r\n\t\tduration: 1,\r\n\t\tease: \"none\",\r\n\t\tpaused: true,\r\n\t\trepeat: -1,\r\n\t\tmodifiers: {\r\n\t\t\txPercent: wrapX,\r\n\t\t},\r\n\t});\r\n\r\n\tvar proxy = document.createElement(\"div\");\r\n\tvar slideAnimation = gsap.to({}, {});\r\n\tvar slideWidth = 0;\r\n\tvar wrapWidth = 0;\r\n\r\n\tvar draggable = new Draggable(proxy, {\r\n\t\ttrigger: \"._carousel-container\",\r\n\t\tinertia: true,\r\n\t\tonPress: updateDraggable,\r\n\t\tonDrag: updateProgress,\r\n\t\tonThrowUpdate: updateProgress,\r\n\t\tsnap: {\r\n\t\t\tx: snapX,\r\n\t\t},\r\n\t});\r\n\r\n\tresize();\r\n\r\n\twindow.addEventListener(\"resize\", resize);\r\n\r\n\tprevButton.addEventListener(\"click\", function () {\r\n\t\tanimateSlides(1);\r\n\t});\r\n\r\n\tnextButton.addEventListener(\"click\", function () {\r\n\t\tanimateSlides(-1);\r\n\t});\r\n\r\n\tfunction updateDraggable() {\r\n\t\ttimer.restart(true);\r\n\t\tslideAnimation.kill();\r\n\t\tthis.update();\r\n\t}\r\n\r\n\tfunction animateSlides(direction) {\r\n\t\ttimer.restart(true);\r\n\t\tslideAnimation.kill();\r\n\t\tvar x = snapX(gsap.getProperty(proxy, \"x\") + direction * slideWidth);\r\n\r\n\t\tslideAnimation = gsap.to(proxy, {\r\n\t\t\tx: x,\r\n\t\t\tduration: slideDuration,\r\n\t\t\tonUpdate: updateProgress,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction autoPlay() {\r\n\t\tif (draggable.isPressed || draggable.isDragging || draggable.isThrowing) {\r\n\t\t\ttimer.restart(true);\r\n\t\t} else {\r\n\t\t\tanimateSlides(-1);\r\n\t\t}\r\n\t}\r\n\r\n\tvar maxWidth = wrapWidth;\r\n\tvar widthOneItem = maxWidth / slides.length;\r\n\tvar prevMW = 0;\r\n\r\n\tfunction updateProgress() {\r\n\t\tanimation.progress(progressWrap(gsap.getProperty(proxy, \"x\") / wrapWidth));\r\n\t\t// //////////////////////////////////////////////////////////////////////////\r\n\t\tlet prog = Math.abs(gsap.getProperty(proxy, \"x\"));\r\n\t\tif (prog > maxWidth) {\r\n\t\t\tprevMW = maxWidth;\r\n\t\t\tmaxWidth += wrapWidth;\r\n\t\t}\r\n\t\tdots.forEach((dot, index) => {\r\n\t\t\tdot.classList.remove(\"active\");\r\n\t\t\tif (index === (prog - prevMW) / widthOneItem - 1) {\r\n\t\t\t\tdot.classList.add(\"active\");\r\n\t\t\t}\r\n\t\t});\r\n\t\t// //////////////////////////////////////////////////////////////////////////\r\n\t}\r\n\r\n\tfunction snapX(value) {\r\n\t\tlet snapped = gsap.utils.snap(slideWidth, value);\r\n\t\treturn wrap\r\n\t\t\t? snapped\r\n\t\t\t: gsap.utils.clamp(-slideWidth * (numSlides - 1), 0, snapped);\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tvar norm = gsap.getProperty(proxy, \"x\") / wrapWidth || 0;\r\n\r\n\t\tslideWidth = slides[0].offsetWidth;\r\n\t\twrapWidth = slideWidth * numSlides;\r\n\r\n\t\twrap ||\r\n\t\tdraggable.applyBounds({ minX: -slideWidth * (numSlides - 1), maxX: 0 });\r\n\r\n\t\tgsap.set(proxy, {\r\n\t\t\tx: norm * wrapWidth,\r\n\t\t});\r\n\r\n\t\tanimateSlides(0);\r\n\t\tslideAnimation.progress(1);\r\n\t}\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tloadScript([\r\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js',\r\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js',\r\n\t], loadCallback)\r\n});\r\n"],"names":["loadCallback","gsap","registerPlugin","Draggable","dots","document","querySelectorAll","slideDelay","slideDuration","wrap","slides","prevButton","querySelector","nextButton","heightArr","elems","forEach","elem","index","heightBlock","offsetHeight","console","log","push","getMaxOfArray","numArray","Math","max","apply","carouselWrapper","style","height","progressWrap","utils","numSlides","length","set","xPercent","i","wrapX","timer","delayedCall","autoPlay","animation","to","duration","ease","paused","repeat","modifiers","proxy","createElement","slideAnimation","slideWidth","wrapWidth","draggable","trigger","inertia","onPress","updateDraggable","onDrag","updateProgress","onThrowUpdate","snap","x","snapX","resize","window","addEventListener","animateSlides","restart","kill","update","direction","getProperty","onUpdate","isPressed","isDragging","isThrowing","maxWidth","widthOneItem","prevMW","progress","prog","abs","dot","classList","remove","add","value","snapped","clamp","norm","offsetWidth","applyBounds","minX","maxX","loadScript"],"sourceRoot":""}