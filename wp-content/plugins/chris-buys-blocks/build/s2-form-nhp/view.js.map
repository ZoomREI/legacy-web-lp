{"version":3,"file":"s2-form-nhp/view.js","mappings":";;;;;AAAA;;AAGA,SAASA,YAAYA,CAAA,EAAG;EACvB,SAASC,WAAWA,CAACC,OAAO,EAAEC,IAAI,EAAE;IACnC,IAAIC,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACJ,OAAO,CAACK,gBAAgB,CAACJ,IAAI,CAACK,YAAY,CAAC,CAAC;IACnE,IAAIC,cAAc,GAAG,MAAM;IAC3B,IAAIC,UAAU,GAAG,IAAI;IAErB,SAASC,eAAeA,CAACC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAEZ,OAAO,EAAE;MAC5DU,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,UAAUC,KAAK,EAAE;QAC1C,CAACC,QAAQ,IAAIhB,OAAO,EAAEiB,gBAAgB,CAACF,KAAK,EAAE,UAAUG,CAAC,EAAE;UAC1D,IAAIA,CAAC,CAACC,MAAM,CAACC,OAAO,CAACT,QAAQ,CAAC,IAAIO,CAAC,CAACC,MAAM,CAACE,OAAO,CAACV,QAAQ,CAAC,EAAE;YAC7DC,OAAO,CAACU,IAAI,CAACJ,CAAC,CAACC,MAAM,CAACE,OAAO,CAACV,QAAQ,CAAC,EAAEO,CAAC,CAAC;UAC5C;QACD,CAAC,CAAC;MACH,CAAC,CAAC;IACH;IAEA,SAASK,OAAOA,CAACC,EAAE,EAAEC,SAAS,EAAEC,MAAM,GAAG,CAAC,CAAC,EAAEC,OAAO,GAAG,IAAI,EAAE;MAC5D,IAAIC,MAAM,GAAGJ,EAAE;MACf,IAAIK,aAAa,GAAGJ,SAAS;MAC7B,IAAIK,UAAU,GAAGJ,MAAM;MAEvB,IAAI,OAAOF,EAAE,KAAK,QAAQ,EAAE;QAC3BK,aAAa,GAAGL,EAAE;QAClBI,MAAM,GAAGZ,QAAQ;QACjB,IAAI,OAAOS,SAAS,KAAK,QAAQ,EAAE;UAClCK,UAAU,GAAGL,SAAS;QACvB;MACD;MAEA,IAAIM,QAAQ,GAAG,IAAIC,WAAW,CAACH,aAAa,EAAE;QAAEF,OAAO,EAAEA,OAAO;QAAEM,MAAM,EAAEH;MAAW,CAAC,CAAC;MACvFF,MAAM,CAACM,aAAa,CAACH,QAAQ,CAAC;IAC/B;IAEA,SAASI,MAAMA,CAACX,EAAE,EAAEY,QAAQ,EAAEC,OAAO,GAAG,OAAO,EAAEC,SAAS,GAAG,KAAK,EAAE;MACnEC,IAAI,CAACC,GAAG,CAAChB,EAAE,EAAE;QAAEa,OAAO,EAAEA,OAAO;QAAEI,OAAO,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAI,CAAC,CAAC;MACtDH,IAAI,CAACI,EAAE,CAACnB,EAAE,EAAE;QAAEiB,OAAO,EAAE,CAAC;QAAEC,CAAC,EAAE,CAAC;QAAEN,QAAQ,EAAEA,QAAQ,GAAG,IAAI;QAAEQ,UAAU,EAAEN;MAAU,CAAC,CAAC;IACpF;IAEA,SAASO,OAAOA,CAACrB,EAAE,EAAEY,QAAQ,EAAEE,SAAS,GAAG,KAAK,EAAE;MACjDC,IAAI,CAACI,EAAE,CAACnB,EAAE,EAAE;QAAEiB,OAAO,EAAE,CAAC;QAAEC,CAAC,EAAE,CAAC,GAAG;QAAEN,QAAQ,EAAEA,QAAQ,GAAG,IAAI;QAAEQ,UAAU,EAAE,SAAAA,CAAA,EAAY;UACpFL,IAAI,CAACC,GAAG,CAAChB,EAAE,EAAE;YAAEa,OAAO,EAAE;UAAO,CAAC,CAAC;UACjC,IAAIC,SAAS,EAAEA,SAAS,CAAC,CAAC;QAC3B;MAAE,CAAC,CAAC;IACN;IAEA,SAASQ,QAAQA,CAACC,QAAQ,EAAE;MAC3B,IAAIC,OAAO,GAAG9C,KAAK,CAAC+C,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,CAACC,IAAI,KAAKL,QAAQ,CAAC;MAChE,IAAI,CAACC,OAAO,EAAE;QACbK,OAAO,CAACC,IAAI,CAAC,yBAAyB,GAAGP,QAAQ,CAAC;QAClD;MACD;MACA,IAAIvC,UAAU,EAAE;QACfqC,OAAO,CAACrC,UAAU,EAAEP,IAAI,CAACsD,MAAM,EAAE,YAAY;UAC5CpB,MAAM,CAACa,OAAO,EAAE/C,IAAI,CAACsD,MAAM,CAAC;QAC7B,CAAC,CAAC;QACF/C,UAAU,GAAGwC,OAAO;MACrB,CAAC,MAAM;QACNxC,UAAU,GAAGwC,OAAO;QACpBT,IAAI,CAACC,GAAG,CAACQ,OAAO,EAAE;UAAEX,OAAO,EAAE,OAAO;UAAEI,OAAO,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE,CAAC,CAAC;MAC1D;MAEAc,MAAM,CAAC,YAAY,CAAC,CAACC,OAAO,CAAC;QAAEC,SAAS,EAAE;MAAE,CAAC,EAAE,GAAG,CAAC;MACnDnC,OAAO,CAACf,UAAU,EAAE,MAAM,CAAC;IAC5B;IAEAsC,QAAQ,CAACvC,cAAc,CAAC;IACxBE,eAAe,CAAC,OAAO,EAAE,kBAAkB,EAAE,UAAUS,CAAC,EAAE;MACzDA,CAAC,CAACyC,cAAc,CAAC,CAAC;MAClBb,QAAQ,CAAC,IAAI,CAACK,OAAO,CAACS,QAAQ,CAAC;IAChC,CAAC,CAAC;IAEF,OAAO;MACNC,IAAI,EAAEf;IACP,CAAC;EACF;EAGA,IAAIgB,aAAa,GAAG/D,WAAW,CAACiB,QAAQ,CAAC+C,IAAI,EAAE;IAC9CzD,YAAY,EAAE,sBAAsB;IACpCiD,MAAM,EAAE;EACT,CAAC,CAAC;EAEFC,MAAM,CAACxC,QAAQ,CAAC,CAACgD,IAAI,CAAC,2BAA2B,EAAE,UAASjD,KAAK,EAAEkD,MAAM,EAAC;IACzEH,aAAa,CAACD,IAAI,CAAC,QAAQ,CAAC;EAC7B,CAAC,CAAC;AACH;AAEA7C,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzDiD,UAAU,CAAC,gEAAgE,EAAEpE,YAAY,CAAC;AAC3F,CAAC,CAAC,C","sources":["webpack://chris-buys-blocks/./src/s2-form-nhp/view.js"],"sourcesContent":["// import gsap from \"gsap\";\r\n\r\n\r\nfunction loadCallback() {\r\n\tfunction fadingPages(context, opts) {\r\n\t\tlet pages = Array.from(context.querySelectorAll(opts.pageSelector));\r\n\t\tlet activePageName = 'main';\r\n\t\tlet activePage = null;\r\n\r\n\t\tfunction dynamicListener(events, selector, handler, context) {\r\n\t\t\tevents.split(' ').forEach(function (event) {\r\n\t\t\t\t(document || context).addEventListener(event, function (e) {\r\n\t\t\t\t\tif (e.target.matches(selector) || e.target.closest(selector)) {\r\n\t\t\t\t\t\thandler.call(e.target.closest(selector), e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction trigger(el, eventName, params = {}, bubbles = true) {\r\n\t\t\tlet thisEl = el;\r\n\t\t\tlet thisEventName = eventName;\r\n\t\t\tlet thisParams = params;\r\n\r\n\t\t\tif (typeof el === 'string') {\r\n\t\t\t\tthisEventName = el;\r\n\t\t\t\tthisEl = document;\r\n\t\t\t\tif (typeof eventName === 'object') {\r\n\t\t\t\t\tthisParams = eventName;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet newEvent = new CustomEvent(thisEventName, { bubbles: bubbles, detail: thisParams });\r\n\t\t\tthisEl.dispatchEvent(newEvent);\r\n\t\t}\r\n\r\n\t\tfunction fadeIn(el, duration, display = 'block', afterFunc = false) {\r\n\t\t\tgsap.set(el, { display: display, opacity: 0, x: 100 });\r\n\t\t\tgsap.to(el, { opacity: 1, x: 0, duration: duration / 1000, onComplete: afterFunc });\r\n\t\t}\r\n\r\n\t\tfunction fadeOut(el, duration, afterFunc = false) {\r\n\t\t\tgsap.to(el, { opacity: 0, x: -100, duration: duration / 1000, onComplete: function () {\r\n\t\t\t\t\tgsap.set(el, { display: 'none' });\r\n\t\t\t\t\tif (afterFunc) afterFunc();\r\n\t\t\t\t} });\r\n\t\t}\r\n\r\n\t\tfunction showPage(pageName) {\r\n\t\t\tlet newPage = pages.find(item => item.dataset.page === pageName);\r\n\t\t\tif (!newPage) {\r\n\t\t\t\tconsole.warn('No page found by name: ' + pageName);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (activePage) {\r\n\t\t\t\tfadeOut(activePage, opts.timing, function () {\r\n\t\t\t\t\tfadeIn(newPage, opts.timing);\r\n\t\t\t\t});\r\n\t\t\t\tactivePage = newPage;\r\n\t\t\t} else {\r\n\t\t\t\tactivePage = newPage;\r\n\t\t\t\tgsap.set(newPage, { display: 'block', opacity: 1, x: 0 });\r\n\t\t\t}\r\n\r\n\t\t\tjQuery('html, body').animate({ scrollTop: 0 }, 300);\r\n\t\t\ttrigger(activePage, 'show');\r\n\t\t}\r\n\r\n\t\tshowPage(activePageName);\r\n\t\tdynamicListener('click', '[data-page-link]', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tshowPage(this.dataset.pageLink);\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tshow: showPage,\r\n\t\t};\r\n\t}\r\n\r\n\r\n\tlet pagesInstance = fadingPages(document.body, {\r\n\t\tpageSelector: '.s2-form-small__step',\r\n\t\ttiming: 500\r\n\t})\r\n\r\n\tjQuery(document).bind('gform_confirmation_loaded', function(event, formId){\r\n\t\tpagesInstance.show('thanks')\r\n\t});\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tloadScript('https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js', loadCallback)\r\n});\r\n"],"names":["loadCallback","fadingPages","context","opts","pages","Array","from","querySelectorAll","pageSelector","activePageName","activePage","dynamicListener","events","selector","handler","split","forEach","event","document","addEventListener","e","target","matches","closest","call","trigger","el","eventName","params","bubbles","thisEl","thisEventName","thisParams","newEvent","CustomEvent","detail","dispatchEvent","fadeIn","duration","display","afterFunc","gsap","set","opacity","x","to","onComplete","fadeOut","showPage","pageName","newPage","find","item","dataset","page","console","warn","timing","jQuery","animate","scrollTop","preventDefault","pageLink","show","pagesInstance","body","bind","formId","loadScript"],"sourceRoot":""}