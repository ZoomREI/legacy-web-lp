{"version":3,"file":"lead-form/view.js","mappings":"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","sources":["webpack://chris-buys-blocks/./src/lead-form/modules/form_helpers.js","webpack://chris-buys-blocks/./src/lead-form/modules/helpers.js","webpack://chris-buys-blocks/./src/lead-form/modules/inputSelect.js","webpack://chris-buys-blocks/./src/lead-form/modules/telInputMask.js","webpack://chris-buys-blocks/./src/lead-form/modules/validate.js","webpack://chris-buys-blocks/webpack/bootstrap","webpack://chris-buys-blocks/webpack/runtime/define property getters","webpack://chris-buys-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://chris-buys-blocks/webpack/runtime/make namespace object","webpack://chris-buys-blocks/./src/lead-form/view.js"],"sourcesContent":["export function populateUtms(form, formData) {\n\tlet utms = {\n\t\t'utm_source': 'utm',\n\t\t'utm_term': 'utm',\n\t\t'utm_campaign': 'utm',\n\t\t'utm_medium': 'utm',\n\t\t'utm_content': 'utm',\n\t\t'device': 'utm',\n\t\t'gclid': 'utm',\n\t\t'fbclid': 'utm',\n\t\t'msclkid': 'utm',\n\t\t'page_url': ()=>{\n\t\t\treturn document.location.href\n\t\t},\n\t\t'lead_source': ()=>{\n\t\t\treturn localStorage.getItem('Initial_Lead_Source') || ''\n\t\t},\n\t\t'timestamp': ()=>{\n\t\t\treturn (new Date()).getTime()\n\t\t},\n\t\t'client_id': ()=>{\n\t\t\treturn '??'\n\t\t},\n\t\t'session_id': ()=>{\n\t\t\treturn '??'\n\t\t},\n\t\t'form_name': form.name,\n\t}\n\tlet getParams = new URLSearchParams(window.location.search)\n\n\tObject.keys(utms).forEach(function (utmName) {\n\t\tif(utms[utmName] === 'get'){\n\t\t\tif(getParams.get(utmName)) {\n\t\t\t\tformData.set(utmName, getParams.get(utmName))\n\t\t\t}\n\t\t} else if(utms[utmName] === 'utm'){\n\t\t\tlet utmFromQuery= getParams.get(utmName);\n\t\t\tlet utmFromSession = sessionStorage.getItem(formConfig.storagePrefix + utmName);\n\n\t\t\tif(utmFromQuery) {\n\t\t\t\tformData.set(utmName, utmFromQuery)\n\t\t\t} else if(utmFromSession){\n\t\t\t\tformData.set(utmName, utmFromSession)\n\t\t\t}\n\t\t} else if(typeof utms[utmName] === 'function'){\n\t\t\tformData.set(utmName, utms[utmName]())\n\t\t} else {\n\t\t\tformData.set(utmName, utms[utmName])\n\t\t}\n\t})\n\n\treturn formData;\n}\nexport function getRedirectParams(formData, queries) {\n\tlet query = {}\n\n\tqueries.forEach(function (fieldData) {\n\t\tlet inputName = fieldData.field\n\t\tlet propName = fieldData.key\n\n\t\tif(inputName === 'country'){\n\t\t\tquery[propName] = 'United States'\n\t\t} else if(formData.get(inputName)) {\n\t\t\tquery[propName] = formData.get(inputName)\n\t\t}\n\t})\n\n\treturn new URLSearchParams(query).toString()\n}","\nexport function dynamicListener(events, selector, handler, context){\n\tevents.split(' ').forEach(function (event) {\n\t\t(document || context).addEventListener(event, function (e) {\n\t\t\tif(e.target.matches(selector) || e.target.closest(selector)){\n\t\t\t\thandler.call(e.target.closest(selector), e);\n\t\t\t}\n\t\t})\n\t})\n}\nexport function trigger(el, eventName, params = {}) {\n\tlet thisEl = el\n\tlet thisEventName = eventName\n\tlet thisParams = params\n\n\tif(typeof el === 'string'){\n\t\tthisEventName = el\n\t\tthisEl = document\n\t\tif(typeof eventName === 'object'){\n\t\t\tthisParams = eventName\n\t\t}\n\t}\n\n\tlet newEvent = new CustomEvent(thisEventName, { bubbles: true, detail: thisParams });\n\tthisEl.dispatchEvent(newEvent)\n}\n\nfunction animateHeight(element, duration, startHeight, targetHeight, onComplete) {\n\tlet elStyles = window.getComputedStyle(element)\n\tlet paddingTop = elStyles.paddingTop.replace('px', '')\n\tlet paddingBottom = elStyles.paddingBottom.replace('px', '')\n\tif (!startHeight) {\n\t\tstartHeight = element.clientHeight\n\t}\n\tlet currentHeight = startHeight;\n\n\n\telement.style.transition = '';\n\n\tif (targetHeight) {\n\t\tif (paddingTop) {\n\t\t\tstartHeight -= paddingTop\n\t\t\telement.style.paddingTop = '0'\n\t\t\tsetTimeout(function () {\n\t\t\t\telement.style.transition = `padding ${duration}ms linear`\n\t\t\t\telement.style.paddingTop = paddingTop + 'px'\n\t\t\t}, 10)\n\t\t}\n\t\tif (paddingBottom) {\n\t\t\tstartHeight -= paddingBottom\n\t\t\telement.style.paddingBottom = '0px'\n\t\t\tsetTimeout(function () {\n\t\t\t\telement.style.transition = `padding ${duration}ms linear`\n\t\t\t\telement.style.paddingBottom = paddingBottom + 'px'\n\t\t\t}, 10)\n\t\t}\n\t\tcurrentHeight = startHeight\n\t} else {\n\t\tif (paddingTop) {\n\t\t\telement.style.transition = `padding ${duration}ms linear`\n\t\t\telement.style.paddingTop = '0px'\n\t\t}\n\t\tif (paddingBottom) {\n\t\t\telement.style.transition = `padding ${duration}ms linear`\n\t\t\telement.style.paddingBottom = '0px'\n\t\t}\n\t}\n\tif ((startHeight / targetHeight) !== Infinity) {\n\t\tduration = duration - (duration * (startHeight / targetHeight))\n\t}\n\n\tif (element.animation && element.animation.stop) {\n\t\telement.animation.stop();\n\t}\n\n\tfunction updateHeight() {\n\t\tconst elapsedTime = performance.now() - startTime;\n\t\tconst progress = Math.min(1, elapsedTime / duration);\n\t\tcurrentHeight = startHeight + progress * (targetHeight - startHeight);\n\t\telement.style.height = currentHeight.toFixed(2) + 'px';\n\n\t\tif (progress < 1) {\n\t\t\telement.animation.raf = requestAnimationFrame(updateHeight);\n\t\t} else {\n\t\t\telement.style.height = '';\n\t\t\telement.style.paddingTop = '';\n\t\t\telement.style.paddingBottom = '';\n\t\t\telement.style.overflow = '';\n\t\t\telement.style.transition = '';\n\t\t\telement.animation = false;\n\t\t\tif (!targetHeight) {\n\t\t\t\telement.style.display = 'none'\n\t\t\t}\n\t\t\tif (onComplete) {\n\t\t\t\tonComplete();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction stopAnimation() {\n\t\tcancelAnimationFrame(element.animation.raf);\n\t}\n\n\tconst startTime = performance.now();\n\telement.animation = {\n\t\traf: 0,\n\t\ttype: targetHeight > startHeight ? 'slideDown' : 'slideUp',\n\t\tstop: stopAnimation,\n\t};\n\tupdateHeight();\n}\nexport function slideDown(element, duration, display = 'block', onComplete) {\n\tlet startHeight = element.clientHeight;\n\telement.style.display = display;\n\telement.style.height = 'unset'\n\tconst targetHeight = element.clientHeight;\n\telement.style.height = '0px';\n\telement.style.overflow = 'hidden';\n\n\tanimateHeight(element, duration, startHeight, targetHeight, onComplete);\n}\nexport function slideUp(element, duration, onComplete) {\n\tconst targetHeight = 0;\n\telement.style.overflow = 'hidden';\n\n\tanimateHeight(element, duration, false, targetHeight, onComplete);\n}\n\nfunction animateOpacity(element, duration, display = 'block', targetOpacity, onComplete) {\n\tconst elStyles = window.getComputedStyle(element)\n\tconst startOpacity = elStyles.display === 'none' ? 0 : parseFloat(elStyles.opacity)\n\tlet currentOpacity = startOpacity;\n\n\tif(startOpacity !== 1) {\n\t\tduration = duration - (duration * startOpacity);\n\t}\n\n\tif (targetOpacity) {\n\t\telement.style.opacity = startOpacity\n\t\telement.style.display = display\n\t}\n\n\tif (element.animation && element.animation.stop) {\n\t\telement.animation.stop()\n\t}\n\n\tfunction updateOpacity() {\n\t\tconst elapsedTime = performance.now() - startTime;\n\t\tconst progress = Math.min(1, elapsedTime / duration);\n\t\tcurrentOpacity = startOpacity + progress * (targetOpacity - startOpacity);\n\t\telement.style.opacity = currentOpacity.toFixed(2);\n\n\t\tif (progress < 1) {\n\t\t\telement.animation.raf = requestAnimationFrame(updateOpacity);\n\t\t} else {\n\t\t\telement.style.opacity = ''\n\t\t\telement.animation = false\n\t\t\tif (!targetOpacity) {\n\t\t\t\telement.style.display = 'none'\n\t\t\t}\n\t\t\tif (onComplete) {\n\t\t\t\tonComplete();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction stopAnimation() {\n\t\tcancelAnimationFrame(element.animation.raf);\n\t}\n\n\tconst startTime = performance.now();\n\telement.animation = {\n\t\traf: 0,\n\t\ttype: targetOpacity ? 'fadeIn' : 'fadeOut',\n\t\tstop: stopAnimation,\n\t};\n\tupdateOpacity();\n}\nexport function fadeIn(el, timeout, display = 'block', afterFunc = false) {\n\tanimateOpacity(el, timeout, display, 1, afterFunc);\n}\nexport function fadeOut(el, timeout, afterFunc = false) {\n\tanimateOpacity(el, timeout, '', 0, afterFunc);\n}\n\nexport function sessionStorageUTM() {\n\tconst paramsMap = {\n\t\tutm_source: \"source\",\n\t\tutm_campaign: \"campaign\",\n\t\tutm_term: \"keyword\",\n\t\tutm_medium: \"medium\",\n\t\tutm_content: \"content\",\n\t\tdevice: \"device\",\n\t\tgclid: \"gclid\",\n\t\tfbclid: \"fbclid\",\n\t\tmsclkid: \"msclkid\",\n\t};\n\n\tfunction getQueryParams() {\n\t\tconst query = window.location.search.substring(1);\n\t\tconst vars = query.split(\"&\");\n\t\tconst queryParams = {};\n\n\t\tfor (let i = 0; i < vars.length; i++) {\n\t\t\tconst pair = vars[i].split(\"=\");\n\n\t\t\tif (pair.length > 0) {\n\t\t\t\tconst paramName = decodeURIComponent(pair[0]);\n\t\t\t\tconst paramValue = decodeURIComponent(pair[1] || \"\");\n\t\t\t\tif (paramsMap.hasOwnProperty(paramName)) {\n\t\t\t\t\tconst standardizedKey = paramsMap[paramName];\n\t\t\t\t\tif (!queryParams.hasOwnProperty(standardizedKey)) {\n\t\t\t\t\t\tqueryParams[standardizedKey] = paramValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn queryParams;\n\t}\n\tfunction storeParams(params) {\n\t\tfor (const key in params) {\n\t\t\tif (params.hasOwnProperty(key)) {\n\t\t\t\tsessionStorage.setItem(formConfig.storagePrefix + key, params[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (Object.keys(getQueryParams()).length > 0) {\n\t\tstoreParams(getQueryParams());\n\t}\n}","import { fadeIn, fadeOut, slideUp, slideDown, dynamicListener, trigger } from \"./helpers\";\n\nexport function dropdown(options) {\n\tlet opts = {\n\t\tglobalContainer: '',\n\t\tcontainerClass: 'header__lang',\n\t\tbtnSelector: '.header__lang-btn',\n\t\tcloseBtnClass: '',\n\t\tdropdownSelector: '.header__lang-dropdown',\n\t\ttiming: 300,\n\t\teffect: 'slide',\n\t\tcloseOnClick: true,\n\t\tcloseOnClickOutside: true,\n\t};\n\tlet timing = 300;\n\topts = { ...opts, ...options }\n\n\tlet openTimeout = false;\n\n\tfunction open(e) {\n\t\te.preventDefault();\n\t\tlet container = e.target.closest('.' + opts.containerClass);\n\t\tlet thisDropdown = container.querySelector(opts.dropdownSelector);\n\t\tif(openTimeout){\n\t\t\treturn;\n\t\t}\n\t\tsetTimeout(function () {\n\t\t\topenTimeout = false\n\t\t}, 200)\n\t\topenTimeout = true\n\t\tif(container.classList.contains('is-open')){\n\t\t\tclose()\n\t\t\treturn;\n\t\t}\n\t\tif (e.type === 'focusin') {\n\t\t\tcontainer.classList.add('focusin');\n\t\t}\n\t\tif (e.type !== 'focusin') {\n\t\t\tcontainer.classList.remove('focusin');\n\t\t}\n\t\tclose(container);\n\n\t\tcontainer.classList.add('is-open')\n\t\tcontainer.style.zIndex = '4';\n\n\t\tif (opts.effect === 'fade') {\n\t\t\tfadeIn(thisDropdown, timing)\n\t\t} else if(opts.effect === 'slide') {\n\t\t\tslideDown(thisDropdown, timing)\n\t\t} else {\n\t\t\tconsole.error('Dropdown plugin: There is no effect called \"' + opts.effect + '\". Effects: \"slide\", \"fade\".')\n\t\t}\n\t}\n\tfunction close(dontClose) {\n\t\tlet dropdownsToClose = document.querySelectorAll('.' + opts.containerClass);\n\n\t\tif (dontClose) {\n\t\t\tdropdownsToClose = Array.from(dropdownsToClose).filter(item => item !== dontClose);\n\t\t}\n\n\t\tif(!dropdownsToClose.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tdropdownsToClose.forEach(function (dropdownToClose) {\n\t\t\tif(!dropdownToClose.classList.contains('is-open')){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdropdownToClose.classList.remove('is-open')\n\t\t\tdropdownToClose.querySelectorAll('li').forEach(item => item.classList.remove('hover'))\n\t\t\tdropdownToClose.style.zIndex = ''\n\t\t\tif (opts.effect === 'fade') {\n\t\t\t\tfadeOut(dropdownToClose.querySelector(opts.dropdownSelector), timing)\n\t\t\t} else if(opts.effect === 'slide') {\n\t\t\t\tslideUp(dropdownToClose.querySelector(opts.dropdownSelector), timing)\n\t\t\t} else {\n\t\t\t\tconsole.error('Dropdown plugin: There is no effect called \"' + opts.effect + '\". Effects: \"slide\", \"fade\".')\n\t\t\t}\n\t\t})\n\t}\n\n\n\tif(opts.closeOnClickOutside) {\n\t\tdocument.addEventListener('click', function (e) {\n\t\t\tlet thisEl = e.target;\n\t\t\tif (opts.closeBtnClass ? thisEl.classList.contains(opts.closeBtnClass) : false) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t\tif (!thisEl.classList.contains(opts.containerClass) && !thisEl.closest('.' + opts.containerClass)) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t})\n\t}\n\tdynamicListener('click', opts.globalContainer + ' .' + opts.containerClass + ' ' + opts.btnSelector, open)\n\tdynamicListener('focusin', opts.globalContainer + ' .' + opts.containerClass + ' ' + opts.btnSelector, open);\n\tdynamicListener('focusout', opts.globalContainer + ' .' + opts.containerClass + ' ' + opts.btnSelector, function (e) {\n\t\te.target.closest('.' + opts.containerClass).classList.remove('focusin');\n\t\tclose(e.target.closest('.' + opts.containerClass));\n\t});\n\tdocument.addEventListener('close-dropdown', close);\n\n\tif (opts.timing !== false) {\n\t\ttiming = opts.timing;\n\t}\n\tif (opts.containerClass === 'select') {\n\t\ttiming = 0;\n\t}\n\tif (opts.closeOnClick) {\n\t\tdynamicListener('click', opts.globalContainer + ' .' + opts.containerClass + ' ' + opts.dropdownSelector, function (e) {\n\t\t\tif (!e.target.closest('.' + opts.containerClass).classList.contains('checkbox')) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t});\n\t}\n}\nexport function inputSelect() {\n\tdropdown({\n\t\tglobalContainer: '',\n\t\tcontainerClass: 'input--select',\n\t\tbtnSelector: '.output_text',\n\t\tcloseBtnClass: '',\n\t\tdropdownSelector: '.input__dropdown',\n\t\teffect: 'slide',\n\t\ttiming: 200\n\t});\n\n\tfunction selectItem(e) {\n\t\tlet option = e.target.closest('li');\n\t\tlet container = option.closest('.input--select');\n\t\tlet text = option.textContent.trim();\n\t\tlet value = option.dataset.value;\n\t\tlet outText = container.querySelector('.output_text');\n\t\tlet outValue = container.querySelector('.output_value');\n\n\t\tif(outText) {\n\t\t\toutText.value = text || outText.placeholder;\n\t\t}\n\t\tif(outValue) {\n\t\t\toutValue.value = value;\n\t\t\tif(typeof outValue.isValid === 'function'){\n\t\t\t\toutValue.isValid();\n\t\t\t}\n\t\t}\n\t\toption.classList.add('is-selected');\n\n\t\tArray.from(option.parentElement.children).forEach(function (item) {\n\t\t\tif(item != option){\n\t\t\t\titem.classList.remove('is-selected')\n\t\t\t}\n\t\t})\n\n\t\tif(!container.classList.contains('has-checkbox') ) {\n\t\t\ttrigger('close-dropdown')\n\t\t}\n\t}\n\n\tdynamicListener('click', '.input--select li', selectItem)\n\n\tdocument.querySelectorAll('.input--select [data-value].is-selected').forEach(function (item) {\n\t\tselectItem({target: item})\n\t})\n}","export function telInputMask(input, newOpts={}) {\n\tlet defaultOpts = {\n\t\tchars: {\n\t\t\tnumber: 'x',\n\t\t\tletter: 'a'\n\t\t},\n\t\tplaceholders: {\n\t\t\tnumber: '_',\n\t\t\tletter: 'x'\n\t\t},\n\t\thiddenInput: false,\n\t\tmask: '+38 0xx xxx-xx-xx',\n\t\tclearOnBlur: true,\n\t\tshowOnFocus: true,\n\t\tonFilled: (unmaskedValue, maskedValue)=>{}\n\t};\n\tlet opts = {\n\t\t...defaultOpts,\n\t\t...newOpts\n\t};\n\tif(!opts.mask){\n\t\treturn;\n\t}\n\tlet maskArray = opts.mask.split('')\n\tlet firstFillableChar = 0\n\n\tmaskArray.find((item, index)=>{\n\t\tlet isFillable = isMaskCharFillable(item).isFillable\n\t\tif(isFillable){\n\t\t\tfirstFillableChar = index\n\t\t}\n\t\treturn isFillable\n\t})\n\tif(opts.hiddenInput){\n\t\tlet hiddenInput = document.createElement('input')\n\n\t\thiddenInput.type = 'hidden'\n\t\thiddenInput.name = input.name\n\t\tinput.name = input.name+'_masked'\n\t\tinput.hiddenInput = hiddenInput\n\t\tinput.insertAdjacentElement('afterend', hiddenInput)\n\n\t\thiddenInput.value = getUnmaskedValue(input.value)\n\t\tif(opts.hiddenInput.mask) {\n\t\t\tonInput.call(hiddenInput, opts.hiddenInput.mask)\n\t\t}\n\t}\n\n\tfunction getUnmaskedValue(maskedString, mask=opts.mask) {\n\t\tlet result = '';\n\t\tlet maskIndex = 0;\n\t\tlet maskedIndex = 0;\n\n\t\tmaskedString = maskedString.replaceAll(opts.placeholders.number, '').replaceAll(opts.placeholders.letter, '').replaceAll(' ', '')\n\n\t\twhile (maskIndex < mask.length && maskedIndex < maskedString.length) {\n\t\t\tif (mask[maskIndex] === 'x') {\n\t\t\t\tif (/\\d/.test(maskedString[maskedIndex])) {\n\t\t\t\t\tresult += maskedString[maskedIndex];\n\t\t\t\t}\n\t\t\t\tmaskedIndex++;\n\t\t\t} else if (mask[maskIndex] === 'a') {\n\t\t\t\tif (/[A-Za-z--]/.test(maskedString[maskedIndex])) {\n\t\t\t\t\tresult += maskedString[maskedIndex];\n\t\t\t\t}\n\t\t\t\tmaskedIndex++;\n\t\t\t} else {\n\t\t\t\tif (mask[maskIndex] === maskedString[maskedIndex]) {\n\t\t\t\t\tmaskedIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaskIndex++;\n\t\t}\n\n\t\treturn result;\n\t}\n\tfunction isCharFillable(char) {\n\t\tlet returnArray = {}\n\n\t\treturnArray.number = /\\d/.test(char)\n\t\treturnArray.letter = /[A-Za-z--]/.test(char)\n\t\treturnArray.isFillable = returnArray.number || returnArray.letter\n\n\t\treturn returnArray\n\t}\n\tfunction isMaskCharFillable(char) {\n\t\tlet returnArray = {}\n\n\t\treturnArray.number = char === opts.chars.number\n\t\treturnArray.letter = char === opts.chars.letter\n\t\treturnArray.isFillable = returnArray.number || returnArray.letter\n\n\t\treturn returnArray\n\t}\n\tfunction onInput(mask=opts.mask) {\n\t\tlet thisValue = this.type !== 'hidden' ? getUnmaskedValue(this.value, mask).split('') : this.value.split('')\n\t\tlet finalValue = ''\n\t\tlet count = 0\n\t\tlet thisMaskArray = this.type !== 'hidden' ? maskArray : mask.split('')\n\n\t\tthisValue.forEach(function (valueChar, index) {\n\t\t\tlet fillableChar = isCharFillable(valueChar)\n\t\t\tif(!fillableChar.isFillable){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet fillableMaskChar;\n\t\t\twhile (count < thisMaskArray.length){\n\t\t\t\tfillableMaskChar = isMaskCharFillable(thisMaskArray[count])\n\t\t\t\tif(fillableMaskChar.isFillable){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfinalValue += thisMaskArray[count]\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\tif((fillableMaskChar.number && fillableChar.number) || (fillableMaskChar.letter && fillableChar.letter)){\n\t\t\t\tfinalValue += valueChar\n\t\t\t}\n\t\t\tcount++\n\t\t})\n\n\t\tlet finalValueLength = finalValue.length\n\n\t\tfor (let i = (finalValue === '' ? 0 : finalValue.length); i < mask.length; i++){\n\t\t\tif(mask[i] === opts.chars.number){\n\t\t\t\tfinalValue += opts.placeholders ? opts.placeholders.number : ''\n\t\t\t} else if(mask[i] === opts.chars.letter){\n\t\t\t\tfinalValue += opts.placeholders ? opts.placeholders.letter : ''\n\t\t\t} else {\n\t\t\t\tfinalValue += mask[i]\n\t\t\t}\n\t\t}\n\n\t\tthis.value = finalValue\n\n\t\tif(this.type !== 'hidden') {\n\t\t\tif (finalValueLength) {\n\t\t\t\tthis.setSelectionRange(finalValueLength, finalValueLength);\n\t\t\t} else {\n\t\t\t\tthis.setSelectionRange(firstFillableChar, firstFillableChar);\n\t\t\t}\n\t\t\tif(this.hiddenInput) {\n\t\t\t\tthis.hiddenInput.value = getUnmaskedValue(this.value)\n\n\t\t\t\tif (opts.hiddenInput.mask) {\n\t\t\t\t\tonInput.call(this.hiddenInput, opts.hiddenInput.mask)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(this.value.replaceAll(opts.placeholders.number, '').replaceAll(opts.placeholders.letter, '').length === mask.length){\n\t\t\tlet unmaskedValue = getUnmaskedValue(this.value)\n\t\t\topts.onFilled(unmaskedValue, this.value)\n\t\t}\n\t}\n\n\tinput.getUnmaskedValue = ()=>{\n\t\treturn getUnmaskedValue(input.value)\n\t}\n\tinput.isFilled = ()=>{\n\t\treturn input.value.replaceAll(opts.placeholders.number, '').replaceAll(opts.placeholders.letter, '').length === opts.mask.length\n\t}\n\tinput.addEventListener('input', function () {\n\t\tonInput.call(this)\n\t})\n\tif(opts.showOnFocus) {\n\t\tinput.addEventListener('focus', function () {\n\t\t\tonInput.call(this)\n\t\t})\n\t}\n\tif(opts.clearOnBlur) {\n\t\tinput.addEventListener('blur', function () {\n\t\t\tif(!getUnmaskedValue(this.value)){\n\t\t\t\tthis.value = ''\n\t\t\t}\n\t\t})\n\t}\n}","const only_num = /^[0-9.]+$/;\nconst only_num_replace = /[^0-9.]/g;\nconst email_reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]{2,62}(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z--\\-0-9]+\\.)+[a-zA-Z--]{2,62}))$/;\n\nconst validationRules = {\n\t'email': {\n\t\t'rules': {\n\t\t\tregex: email_reg\n\t\t}\n\t},\n\t'numeric': {\n\t\t'rules': {\n\t\t\tregex: only_num\n\t\t}\n\t},\n\t'numeric-replace': {\n\t\t'rules': {\n\t\t\tregexReplace: only_num_replace\n\t\t}\n\t},\n\t'address-autocomplete': {\n\t\t'rules': {\n\t\t\taddressAutocomplete: true\n\t\t}\n\t},\n\t'tel-mask': {\n\t\t'rules': {\n\t\t\ttelMask: true\n\t\t}\n\t},\n};\nconst validationMethods = {\n\t\"addressAutocomplete\": function (_, autocompleteField) {\n\t\tif(!autocompleteField.autocompleteInstance){\n\t\t\treturn true;\n\t\t}\n\t\tif(!autocompleteField.value.trim()){\n\t\t\tif(autocompleteField.closest('.is-error')){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tautocompleteField.dataset.validity = \"Please re-enter and select your address from the dropdown\"\n\t\t\tautocompleteField.setCustomValidity(autocompleteField.dataset.validity);\n\t\t\tautocompleteField.reportValidity();\n\t\t\treturn false;\n\t\t}\n\t\tconst place = autocompleteField.autocompleteInstance.getPlace();\n\t\tif (!place || !place.geometry) {\n\t\t\tif(autocompleteField.closest('.is-error')){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tautocompleteField.dataset.validity = \"Address must include a street number\"\n\t\t\tautocompleteField.setCustomValidity(autocompleteField.dataset.validity);\n\t\t\tautocompleteField.reportValidity();\n\t\t\treturn false;\n\t\t}\n\n\t\tlet streetAddress = \"\";\n\t\tlet city = \"\";\n\t\tlet stateShort = \"\";\n\t\tlet stateLong = \"\";\n\t\tlet zipcode = \"\";\n\t\tlet hasStreetNumber = false;\n\n\t\tfor (const component of place.address_components) {\n\t\t\tconst componentType = component.types[0];\n\n\t\t\tswitch (componentType) {\n\t\t\t\tcase \"street_number\":\n\t\t\t\t\tstreetAddress = component.long_name;\n\t\t\t\t\thasStreetNumber = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"route\":\n\t\t\t\t\tstreetAddress += \" \" + component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"locality\":\n\t\t\t\t\tcity = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"administrative_area_level_1\":\n\t\t\t\t\tstateShort = component.short_name;\n\t\t\t\t\tstateLong = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"postal_code\":\n\t\t\t\t\tzipcode = component.long_name;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!hasStreetNumber) {\n\t\t\tif(autocompleteField.closest('.is-error')){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tautocompleteField.dataset.validity = \"Address must include a street number\"\n\t\t\tautocompleteField.setCustomValidity(autocompleteField.dataset.validity);\n\t\t\tautocompleteField.reportValidity();\n\t\t\treturn false;\n\t\t}\n\n\t\tautocompleteField.dataset.validity = ''\n\t\tautocompleteField.setCustomValidity('');\n\n\t\tautocompleteField.dataset.error = ''\n\n\t\tautocompleteField.dataset.street = streetAddress;\n\t\tautocompleteField.dataset.city = city;\n\t\tautocompleteField.dataset.state = stateLong;\n\t\tautocompleteField.dataset.zipcode = zipcode;\n\n\t\tautocompleteField.value = `${streetAddress}, ${city}, ${stateShort}, ${zipcode}`;\n\n\t\treturn true;\n\t},\n\t\"telMask\": function (_, input) {\n\t\treturn !input.required || input.isFilled();\n\t},\n}\n\nexport function validate(form, newOpts = {}) {\n\tlet defaultOpts = {\n\t\tmethodsOnInput: ['regexReplace', 'maxlength'],\n\t\tsubmitFunction: null,\n\t\thighlightFunction: null,\n\t\tunhighlightFunction: null,\n\t\tcheckOnInput: false,\n\t\tcheckOnInputAfterSubmit: false,\n\t\tcheckOnFocusOut: true,\n\t\tdisableButton: false,\n\t\terrorClass: 'is-error',\n\t\tdontValidateInputs: 'input:not([type=\"hidden\"])[name], .output_value, select, textarea',\n\t\tinputContainerSelector: '.input',\n\t\tformErrorBlock: '',\n\t\taddInputErrors: true,\n\t\ttrackErrors: false,\n\t\tvalidationRules: typeof validationRules !== 'undefined' ? validationRules : {},\n\t\tvalidationErrors: typeof validationErrors !== 'undefined' ? validationErrors : {},\n\t\tmethods: {\n\t\t\t\"regex\": function (value, element, regexp) {\n\t\t\t\treturn value == '' || new RegExp(regexp).test(value);\n\t\t\t},\n\t\t\t\"required\": function (value, input) {\n\t\t\t\tif(input.getAttribute('type') === 'checkbox' || input.getAttribute('type') === 'radio'){\n\t\t\t\t\tlet elseInputs = Array.from(form.querySelectorAll(`[name=\"${input.getAttribute('name')}\"]`))\n\t\t\t\t\tlet hasChecked = !!elseInputs.find(item => item.checked)\n\n\t\t\t\t\tif(hasChecked){\n\t\t\t\t\t\telseInputs.forEach(function (elseInput) {\n\t\t\t\t\t\t\tif(typeof elseInput.removeError === 'function') {\n\t\t\t\t\t\t\t\telseInput.removeError()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hasChecked\n\t\t\t\t} else {\n\t\t\t\t\treturn !!value.trim()\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"regexReplace\": function (value, element, regexp) {\n\t\t\t\telement.value = element.value.replace(new RegExp(regexp), \"\");\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\t\"password_repeat\": function (value, element, regexp) {\n\t\t\t\tlet password = element.closest('form').querySelector('[data-validation=\"password\"]');\n\t\t\t\treturn !element.hasAttribute('required') && !value || value === password.value;\n\t\t\t},\n\t\t\t\"tel_mask\": function (value, element, regexp) {\n\t\t\t\tif (typeof element['checkValidCallback'] !== 'undefined') {\n\t\t\t\t\telement.checkValidCallback();\n\t\t\t\t}\n\t\t\t\treturn typeof element['telMask'] !== 'undefined' ? element['telMask'].isValidNumber() || value === '' : true;\n\t\t\t},\n\t\t\t\"minlength\": function (value, element, passedValue) {\n\t\t\t\tlet min = passedValue || +element.getAttribute(\"minlength\");\n\n\t\t\t\tif (!min || !value) return true;\n\t\t\t\treturn value.length >= min;\n\t\t\t},\n\t\t\t\"maxlength\": function (value, element, regexp) {\n\t\t\t\tlet max = +element.getAttribute(\"maxlength\");\n\t\t\t\tif (!max) return true;\n\t\t\t\tif (element.value.length > max) {\n\t\t\t\t\telement.value = element.value.substr(0, max);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\tlet opts = {\n\t\t...defaultOpts,\n\t\t...newOpts\n\t};\n\tif(typeof validationMethods === 'object') {\n\t\topts[\"methods\"] = {\n\t\t\t...opts[\"methods\"],\n\t\t\t...validationMethods\n\t\t}\n\t}\n\tif (typeof form === 'string') form = document.querySelector(form);\n\n\tfunction selectAll(selector, container = false) {\n\t\treturn Array.from(!container ? document.querySelectorAll(selector) : container.querySelectorAll(selector));\n\t}\n\tfunction printf(string, vars = [], addToEnd = true, char = '&') {\n\t\tvars.forEach(function (thisVar, index) {\n\t\t\tlet r = new RegExp(char + (index + 1) + '(?![0-9])', 'g');\n\n\t\t\tif(r.test(string)) {\n\t\t\t\tstring = string.replace(r, thisVar);\n\t\t\t} else if(addToEnd) {\n\t\t\t\tstring += ' '+thisVar\n\t\t\t}\n\t\t})\n\t\treturn string;\n\t}\n\n\tfunction getMethodError(input, methodName, defaultText, variable = []) {\n\t\tlet dataValidation = input.getAttribute('data-validation');\n\t\tlet errorMessage = printf(defaultText, variable)\n\n\t\tif(opts.validationErrors[methodName]){\n\t\t\terrorMessage = printf(opts.validationErrors[methodName], variable)\n\t\t}\n\t\tif(opts.validationErrors[dataValidation] && opts.validationErrors[dataValidation][methodName]){\n\t\t\terrorMessage = printf(opts.validationErrors[dataValidation][methodName], variable)\n\t\t}\n\n\t\treturn errorMessage;\n\t}\n\n\tfunction formSubmitListener(e) {\n\t\te.preventDefault();\n\t\t_this.validate();\n\t\t_this.formSubmitted = true;\n\t}\n\tfunction inputInputListener(e) {\n\t\tthis['had_input'] = true;\n\t\tthis.dataset.validity = ''\n\t\tthis.setCustomValidity(\"\");\n\t\tif(!opts.checkOnInput && !opts.checkOnInputAfterSubmit){\n\t\t\treturn;\n\t\t}\n\t\tif(opts.disableButton){\n\t\t\t_this.checkDisableButton()\n\t\t}\n\t\tif (opts.methodsOnInput.length) {\n\t\t\t_this.valid(this, opts.methodsOnInput);\n\t\t\treturn;\n\t\t}\n\t\tif (opts.checkOnFocusOut && input['had_focusout']) {\n\t\t\t_this.valid(this);\n\t\t\treturn;\n\t\t}\n\t\tif (opts.checkOnInput) {\n\t\t\t_this.valid(this);\n\t\t\treturn;\n\t\t}\n\t\tif (opts.checkOnInputAfterSubmit && _this.formSubmitted) {\n\t\t\t_this.valid(this);\n\t\t}\n\n\t\tlet inputsSameName = Array.from(form.querySelectorAll(`[name=\"${this.getAttribute('name')}\"]`))\n\n\t\tif(inputsSameName.length > 1){\n\t\t\tlet isTypesSame = !inputsSameName.find(item => item.getAttribute('type') !== inputsSameName[0].getAttribute('type'))\n\t\t\tlet hasRequired = inputsSameName.find(item => typeof item.getAttribute('required') !== 'undefined')\n\n\t\t\tif(!isTypesSame && hasRequired) {\n\t\t\t\tif(this.getAttribute('type') !== 'checkbox' && this.getAttribute('type') !== 'radio'){\n\t\t\t\t\tlet diffInputs = inputsSameName.filter(item => item.getAttribute('type') !== this.getAttribute('type'))\n\n\t\t\t\t\tif(diffInputs.length){\n\t\t\t\t\t\tif(this.value.trim()){\n\t\t\t\t\t\t\tdiffInputs.forEach(item => item.isValid())\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction inputFocusListener(e) {\n\t\tlet inputsSameName = Array.from(form.querySelectorAll(`[name=\"${this.getAttribute('name')}\"]`))\n\t\tif(opts.disableButton){\n\t\t\t_this.checkDisableButton()\n\t\t}\n\t\tif(inputsSameName.length > 1){\n\t\t\tlet isTypesSame = !inputsSameName.find(item => item.getAttribute('type') !== inputsSameName[0].getAttribute('type'))\n\t\t\tlet hasRequired = inputsSameName.find(item => typeof item.getAttribute('required') !== 'undefined')\n\n\t\t\tif(!isTypesSame && hasRequired) {\n\t\t\t\tif(this.getAttribute('type') !== 'checkbox' && this.getAttribute('type') !== 'radio'){\n\t\t\t\t\tlet diffInputs = inputsSameName.filter(item => item.getAttribute('type') !== this.getAttribute('type'))\n\n\t\t\t\t\tif(diffInputs.length){\n\t\t\t\t\t\tdiffInputs.forEach(item => item.removeRequired())\n\t\t\t\t\t\tdiffInputs.forEach(item => item.checked = false)\n\t\t\t\t\t\tdiffInputs.forEach(item => item.isValid())\n\t\t\t\t\t}\n\t\t\t\t\tthis.setRequired()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction inputFocusoutListener(e) {\n\t\tif(opts.disableButton){\n\t\t\t_this.checkDisableButton()\n\t\t}\n\t\tlet thisInput = this\n\t\tif (!opts.checkOnInput && opts.checkOnFocusOut) {\n\t\t\tthisInput['had_focusout'] = true;\n\t\t\tif (!thisInput['had_focusout'] || (!thisInput['had_input'] && !_this.formSubmitted)) return;\n\t\t\tclearTimeout(_this.focusoutTimeout)\n\t\t\t_this.focusoutTimeout = setTimeout(function () {\n\t\t\t\t_this.valid(thisInput);\n\t\t\t}, 300)\n\t\t}\n\t}\n\tfunction inputChangeListener(e) {\n\t\tif(opts.disableButton){\n\t\t\t_this.checkDisableButton()\n\t\t}\n\t\tif (this.getAttribute('type') === 'checkbox' || this.getAttribute('type') === 'radio' ) {\n\t\t\tthis.isValid()\n\t\t}\n\n\n\t\tlet inputsSameName = Array.from(form.querySelectorAll(`[name=\"${this.getAttribute('name')}\"]`))\n\n\t\tif(inputsSameName.length > 1){\n\t\t\tlet isTypesSame = !inputsSameName.find(item => item.getAttribute('type') !== inputsSameName[0].getAttribute('type'))\n\t\t\tlet hasRequired = inputsSameName.find(item => typeof item.getAttribute('required') !== 'undefined')\n\n\t\t\tif(!isTypesSame && hasRequired) {\n\t\t\t\tif(this.getAttribute('type') === 'checkbox' || this.getAttribute('type') === 'radio'){\n\t\t\t\t\tlet diffInputs = inputsSameName.filter(item => item.getAttribute('type') !== this.getAttribute('type'))\n\t\t\t\t\tlet thisInputs = inputsSameName.filter(item => item.getAttribute('type') === this.getAttribute('type'))\n\t\t\t\t\tlet oneChecked = thisInputs.find(item => item.checked)\n\n\t\t\t\t\tif(diffInputs.length){\n\t\t\t\t\t\tif(oneChecked){\n\t\t\t\t\t\t\tdiffInputs.forEach(item => item.removeRequired())\n\t\t\t\t\t\t\tdiffInputs.forEach(item => item.isValid())\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiffInputs.forEach(item => item.setRequired())\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlet _this = {\n\t\tisValid: true,\n\t\tallInputs: selectAll(opts.dontValidateInputs, form),\n\t\tformSubmitted: false,\n\t\tinit: function () {\n\t\t\t_this.allInputs = selectAll(opts.dontValidateInputs, form)\n\t\t\tform.setAttribute('novalidate', 'novalidate');\n\t\t\tform.setAttribute('data-js-validation', 'novalidate');\n\t\t\tform.addEventListener('submit', formSubmitListener);\n\t\t\tform.valid = function () {\n\t\t\t\tlet addErrors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\t\t\treturn _this.validate(false, addErrors);\n\t\t\t};\n\t\t\t_this.allInputs.map(function (input) {\n\t\t\t\tlet thisInputMethods = [];\n\t\t\t\tlet dataValidation = input.getAttribute('data-validation');\n\t\t\t\tif (input.hasAttribute('required')) {\n\t\t\t\t\tthisInputMethods.push({\n\t\t\t\t\t\tcallback: opts.methods['required'],\n\t\t\t\t\t\terrorMessage: getMethodError(input, 'required', 'This field is required')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (input.hasAttribute('minlength')) {\n\t\t\t\t\tthisInputMethods.push({\n\t\t\t\t\t\tcallback: opts.methods['minlength'],\n\t\t\t\t\t\terrorMessage: getMethodError(input, 'minlength', 'Min length is &1 symbols', [input.getAttribute('minlength')])\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (input.hasAttribute('maxlength')) {\n\t\t\t\t\tthisInputMethods.push({\n\t\t\t\t\t\tcallback: opts.methods['maxlength'],\n\t\t\t\t\t\terrorMessage: getMethodError(input, 'maxlength', 'Max length is &1 symbols', [input.getAttribute('maxlength')])\n\t\t\t\t\t});\n\t\t\t\t}\n\n\n\n\t\t\t\t// if (input.getAttribute('type') === 'email') {\n\t\t\t\t//   thisInputMethods.push({\n\t\t\t\t//     callback: opts.methods['regex'],\n\t\t\t\t//     passedValue: email_reg,\n\t\t\t\t//     errorMessage: opts.validationErrors['email']['regex'] || opts.validationErrors['invalid'] || 'This field is invalid'\n\t\t\t\t//   });\n\t\t\t\t// }\n\t\t\t\tif (dataValidation) {\n\t\t\t\t\tlet thisValidation = opts.validationRules[input.getAttribute('data-validation')];\n\t\t\t\t\tif (thisValidation) {\n\t\t\t\t\t\tthisValidation = thisValidation['rules'];\n\t\t\t\t\t}\n\t\t\t\t\tif (thisValidation) {\n\t\t\t\t\t\tObject.keys(thisValidation).forEach(methodName => {\n\t\t\t\t\t\t\tlet existingMethod = false;\n\t\t\t\t\t\t\tlet thisValidationValue = thisValidation[methodName];\n\t\t\t\t\t\t\tif (opts.methods[methodName]){\n\t\t\t\t\t\t\t\texistingMethod = {\n\t\t\t\t\t\t\t\t\tcallback: opts.methods[methodName],\n\t\t\t\t\t\t\t\t\tpassedValue: thisValidationValue,\n\t\t\t\t\t\t\t\t\terrorMessage: getMethodError(input, methodName, opts.validationErrors['invalid'] || 'This field is invalid')\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (existingMethod) thisInputMethods.push(existingMethod);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction isInputRequired() {\n\t\t\t\t\tlet removeIt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\t\t\t\t\tlet thisInputActualMethods = input['validationMethods'];\n\t\t\t\t\tlet hasRequired = false;\n\t\t\t\t\tthisInputActualMethods.map(function (method) {\n\t\t\t\t\t\tif (method.callback.name === 'required') {\n\t\t\t\t\t\t\thasRequired = true;\n\t\t\t\t\t\t\tif (removeIt) thisInputActualMethods.splice(thisInputActualMethods.indexOf(method), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn hasRequired;\n\t\t\t\t}\n\t\t\t\tfunction setRequired() {\n\t\t\t\t\tlet thisInputActualMethods = input['validationMethods'];\n\t\t\t\t\tif (isInputRequired()) return;\n\t\t\t\t\tthisInputActualMethods.push({\n\t\t\t\t\t\tcallback: opts.methods['required'],\n\t\t\t\t\t\terrorMessage: getMethodError(input, 'required', 'This field is required')\n\t\t\t\t\t});\n\t\t\t\t\tinput['validationMethods'] = thisInputMethods;\n\t\t\t\t}\n\t\t\t\tfunction removeRequired() {\n\t\t\t\t\tisInputRequired(true);\n\t\t\t\t}\n\t\t\t\tfunction setError(message) {\n\t\t\t\t\t_this.highlight(input)\n\t\t\t\t\t_this.errorPlacement(message, input)\n\t\t\t\t}\n\t\t\t\tfunction removeError() {\n\t\t\t\t\t_this.unhighlight(input)\n\t\t\t\t\t_this.errorRemove(input)\n\t\t\t\t}\n\t\t\t\tinput['setError'] = setError\n\t\t\t\tinput['removeError'] = removeError\n\t\t\t\tinput['setRequired'] = setRequired;\n\t\t\t\tinput['removeRequired'] = removeRequired;\n\t\t\t\tinput['isRequired'] = isInputRequired;\n\t\t\t\tinput['validationMethods'] = thisInputMethods;\n\t\t\t\tinput['had_input'] = false;\n\t\t\t\tinput['had_focusout'] = false;\n\t\t\t\tinput['isValid'] = function (addError = true) {\n\t\t\t\t\treturn _this.valid(input, addError);\n\t\t\t\t};\n\t\t\t\tinput.addEventListener('input', inputInputListener);\n\t\t\t\tinput.addEventListener('change', inputChangeListener);\n\t\t\t\tinput.addEventListener('focus', inputFocusListener);\n\t\t\t\tinput.addEventListener('focusout', inputFocusoutListener);\n\t\t\t});\n\t\t\tif (opts['rules']) {\n\t\t\t\tObject.keys(opts['rules']).forEach(function (rule) {\n\t\t\t\t\tlet input = document.querySelector('[name=\"' + rule + '\"]');\n\t\t\t\t\tlet thisRuleValue = opts['rules'][rule];\n\t\t\t\t\tlet thisInputMethods = input['validationMethods'] || [];\n\t\t\t\t\tif (!input) return;\n\t\t\t\t\tif (thisRuleValue['laravelRequired']) thisRuleValue = 'required';\n\t\t\t\t\tlet thisRuleMessage = getMethodError(input, thisRuleValue, opts.validationErrors['invalid'] || 'This field is invalid')\n\t\t\t\t\tif (opts['messages'] && opts['messages'][rule] && (opts['messages'][rule][thisRuleValue] || opts['messages'][rule]['laravelRequired'])) thisRuleMessage = opts['messages'][rule][thisRuleValue] || opts['messages'][rule]['laravelRequired'];\n\t\t\t\t\tif (opts.methods[thisRuleValue]) {\n\t\t\t\t\t\tthisInputMethods.push({\n\t\t\t\t\t\t\tcallback: opts.methods[thisRuleValue],\n\t\t\t\t\t\t\terrorMessage: thisRuleMessage\n\t\t\t\t\t\t});\n\t\t\t\t\t\tinput['validationMethods'] = thisInputMethods;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(opts.disableButton){\n\t\t\t\t_this.checkDisableButton()\n\t\t\t}\n\n\t\t\t_this.updateDefaultFormData()\n\t\t},\n\t\tdestroy: function () {\n\t\t\tform.removeAttribute('novalidate', 'novalidate');\n\t\t\tform.removeAttribute('data-js-validation', 'novalidate');\n\t\t\tform.removeEventListener('submit', formSubmitListener);\n\t\t\tform.valid = null;\n\t\t\t_this.allInputs.map(function (input) {\n\t\t\t\tinput['setError'] = null\n\t\t\t\tinput['removeError'] = null\n\t\t\t\tinput['setRequired'] = null;\n\t\t\t\tinput['removeRequired'] = null;\n\t\t\t\tinput['isRequired'] = null;\n\t\t\t\tinput['validationMethods'] = null;\n\t\t\t\tinput['had_input'] = false;\n\t\t\t\tinput['had_focusout'] = false;\n\t\t\t\tinput['isValid'] = null\n\t\t\t\tinput.removeEventListener('input', inputInputListener);\n\t\t\t\tinput.removeEventListener('change', inputChangeListener);\n\t\t\t\tinput.removeEventListener('focus', inputFocusListener);\n\t\t\t\tinput.removeEventListener('focusout', inputFocusoutListener);\n\t\t\t});\n\t\t},\n\t\tvalid: function (input, addError = true) {\n\t\t\tif(input['dont-check']){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet thisMethods = input['validationMethods'];\n\t\t\tif (!thisMethods) {\n\t\t\t\t_this.errorRemove(input);\n\t\t\t\t_this.unhighlight(input);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet isInputValid = true;\n\n\t\t\tthisMethods.forEach(function (thisMethod) {\n\t\t\t\tif (!isInputValid) return;\n\t\t\t\tlet isThisValid = thisMethod['callback'](input.value, input, thisMethod['passedValue']);\n\t\t\t\tif (!isThisValid) {\n\t\t\t\t\tif (addError) {\n\t\t\t\t\t\t_this.errorPlacement(thisMethod['errorMessage'], input);\n\t\t\t\t\t\t_this.highlight(input);\n\t\t\t\t\t\tif(opts.trackErrors && typeof window.dataLayer !== 'undefined'){\n\t\t\t\t\t\t\twindow.dataLayer.push({\n\t\t\t\t\t\t\t\tevent: \"form_error\",\n\t\t\t\t\t\t\t\tform_id: form.id,\n\t\t\t\t\t\t\t\tform_name: form.name,\n\t\t\t\t\t\t\t\terror_field_label: input.closest(opts.inputContainerSelector) && input.closest(opts.inputContainerSelector).querySelector('label') ? input.closest(opts.inputContainerSelector).querySelector('label') : input.placeholder,\n\t\t\t\t\t\t\t\terror_message: thisMethod['errorMessage'],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_this.isValid = isInputValid = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isInputValid) {\n\t\t\t\t_this.errorRemove(input);\n\t\t\t\t_this.unhighlight(input);\n\t\t\t}\n\t\t\treturn isInputValid;\n\t\t},\n\t\tvalidate: function () {\n\t\t\tlet submit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\t\t\tlet addError = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\t\tlet invalidInputs = []\n\t\t\t_this.isValid = true;\n\t\t\t_this.allInputs.map(function (input) {\n\t\t\t\tif (!_this.valid(input, addError)) {\n\t\t\t\t\t_this.isValid = false;\n\t\t\t\t\tinvalidInputs.push(input)\n\t\t\t\t} else {\n\t\t\t\t\tinput.dataset.validity = ''\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (_this.isValid){\n\t\t\t\tform.classList.remove('has-error')\n\t\t\t\tif(submit) {\n\t\t\t\t\t_this.submitHandler();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet firstInvalidInput = invalidInputs[0]\n\n\t\t\t\tform.classList.add('has-error')\n\n\t\t\t\tif(!firstInvalidInput.dataset.validity) {\n\t\t\t\t\tfirstInvalidInput.dataset.validity = \"Please fill this field correctly\"\n\t\t\t\t\tfirstInvalidInput.setCustomValidity(firstInvalidInput.dataset.validity);\n\t\t\t\t\tfirstInvalidInput.reportValidity();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _this.isValid;\n\t\t},\n\t\thighlight: function (element) {\n\t\t\tif (typeof opts.highlightFunction === 'function') {\n\t\t\t\topts.highlightFunction(form, element);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet container;\n\t\t\tif(typeof opts.inputContainerSelector === 'object'){\n\t\t\t\topts.inputContainerSelector.forEach(function (item) {\n\t\t\t\t\tif(element.closest(item)) {\n\t\t\t\t\t\tcontainer = element.closest(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcontainer = element.closest(opts.inputContainerSelector)\n\t\t\t}\n\t\t\tif (container) container.classList.add(opts.errorClass);\n\t\t},\n\t\tunhighlight: function (element) {\n\t\t\tif (typeof opts.unhighlightFunction === 'function') {\n\t\t\t\topts.unhighlightFunction(form, element);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet container;\n\t\t\tif(typeof opts.inputContainerSelector === 'object'){\n\t\t\t\topts.inputContainerSelector.forEach(function (item) {\n\t\t\t\t\tif(element.closest(item)) {\n\t\t\t\t\t\tcontainer = element.closest(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcontainer = element.closest(opts.inputContainerSelector)\n\t\t\t}\n\t\t\tif (container) container.classList.remove(opts.errorClass);\n\t\t},\n\t\tupdateDefaultFormData: function () {\n\t\t\t_this.defaultFormData = new FormData(form)\n\t\t},\n\t\tcheckDisableButton: function () {\n\t\t\tlet currentFormData = new FormData(form)\n\t\t\tlet formHasChanges = false\n\t\t\tlet formIsValid = form.valid(false)\n\n\t\t\tif(typeof _this.defaultFormData !== 'undefined') {\n\t\t\t\tfor (let [key, value] of _this.defaultFormData.entries()) {\n\t\t\t\t\tif (currentFormData.get(key) !== value) {\n\t\t\t\t\t\tformHasChanges = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(formIsValid && formHasChanges){\n\t\t\t\tform.querySelector('[type=\"submit\"]').removeAttribute('disabled')\n\t\t\t} else {\n\t\t\t\tform.querySelector('[type=\"submit\"]').setAttribute('disabled', 'disabled')\n\t\t\t}\n\t\t},\n\t\terrorPlacement: function (error, element) {\n\t\t\tif (!error) return;\n\t\t\tlet container;\n\t\t\tif(typeof opts.inputContainerSelector === 'object'){\n\t\t\t\topts.inputContainerSelector.forEach(function (item) {\n\t\t\t\t\tif(element.closest(item)) {\n\t\t\t\t\t\tcontainer = element.closest(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcontainer = element.closest(opts.inputContainerSelector)\n\t\t\t}\n\t\t\tlet formErrorBlock = opts.formErrorBlock ? form.querySelector(opts.formErrorBlock) : false\n\t\t\tif(formErrorBlock){\n\t\t\t\tif(!formErrorBlock.querySelector(`[data-name=\"${element.getAttribute('name')}\"]`)) {\n\t\t\t\t\tformErrorBlock.innerHTML += `<p data-name=\"${element.getAttribute('name')}\">${error}</p>`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!container){ console.warn('BLACKBOOK Validate: no container for: ', element, opts.inputContainerSelector); return; }\n\n\t\t\tif(opts.addInputErrors) {\n\t\t\t\tlet errorEl = container.querySelector('.input__message');\n\t\t\t\tif (!errorEl) {\n\t\t\t\t\terrorEl = document.createElement('div');\n\t\t\t\t\terrorEl.classList.add('input__message');\n\t\t\t\t\tcontainer.append(errorEl);\n\t\t\t\t}\n\t\t\t\terrorEl.innerHTML = `<p>${error}</p>`;\n\t\t\t}\n\t\t},\n\t\terrorRemove: function (element) {\n\t\t\tlet container;\n\t\t\tif(typeof opts.inputContainerSelector === 'object'){\n\t\t\t\topts.inputContainerSelector.forEach(function (item) {\n\t\t\t\t\tif(element.closest(item)) {\n\t\t\t\t\t\tcontainer = element.closest(item)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tcontainer = element.closest(opts.inputContainerSelector)\n\t\t\t}\n\t\t\tlet formErrorBlock = opts.formErrorBlock ? form.querySelector(opts.formErrorBlock) : false\n\t\t\tif(formErrorBlock){\n\t\t\t\tif(formErrorBlock.querySelector(`[data-name=\"${element.getAttribute('name')}\"]`)) {\n\t\t\t\t\tformErrorBlock.querySelector(`[data-name=\"${element.getAttribute('name')}\"]`).remove()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(opts.addInputErrors) {\n\t\t\t\tif (!container) {\n\t\t\t\t\tconsole.warn('BLACKBOOK Validate: no container for: ', element, opts.inputContainerSelector);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcontainer = container.querySelector('.input__message');\n\t\t\t\tif (!container) return;\n\t\t\t\tcontainer.innerHTML = '';\n\t\t\t}\n\t\t},\n\t\tsubmitHandler: function () {\n\t\t\tif (typeof opts.submitFunction === 'function') {\n\t\t\t\topts.submitFunction(form);\n\t\t\t} else {\n\t\t\t\tform.submit();\n\t\t\t}\n\t\t}\n\t};\n\n\tif (form.hasAttribute('data-js-validation')){\n\t\t_this.destroy();\n\t\t_this.init();\n\t} else {\n\t\t_this.init();\n\t}\n\tform.validateMethods = _this;\n\treturn _this;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { fadeIn, fadeOut, slideUp, slideDown, sessionStorageUTM, trigger } from \"./modules/helpers\";\nimport { populateUtms, getRedirectParams } from \"./modules/form_helpers\";\nimport { validate } from \"./modules/validate\";\nimport { telInputMask } from \"./modules/telInputMask\";\nimport { inputSelect } from \"./modules/inputSelect\";\n\n\nfunction leadFormCallback() {\n    let leadForms = document.querySelectorAll('.lead-form:not(.is-initialized)')\n    if(!leadForms.length){\n        return;\n    }\n    leadForms.forEach(function (leadForm) {\n        let leadFormConfig = JSON.parse(document.getElementById('form-config-'+leadForm.id).innerHTML)\n        let phoneInput = leadForm.querySelector('[data-validation=\"tel-mask\"]')\n\n        leadForm.classList.add('is-initialized')\n\n        function sendAjax() {\n            let xhr = new XMLHttpRequest();\n            let formData = populateUtms(leadForm, new FormData(leadForm));\n            let formBtn = leadForm.querySelector('[type=\"submit\"]');\n\n            window.dataLayer = window.dataLayer || [];\n            window.dataLayer.push({\n                event: \"submitStep1\",\n                formName: leadForm.name,\n                fullName: formData.get('fullName'),\n                street: formData.get('street'),\n                city: formData.get('city'),\n                state: formData.get('state'),\n                country: \"US\",\n                zipcode: formData.get('zipcode'),\n                email: formData.get('email'),\n                phone: formData.get('phone')\n            });\n            trigger(leadForm, 'lead-form-submit')\n\n            if (formBtn) {\n                formBtn.classList.add('is-loading');\n                formBtn.setAttribute('disabled', 'disabled');\n            }\n\n            formData.append('webhooks', JSON.stringify(leadFormConfig.webhooks))\n            xhr.open('post', leadFormConfig.handler);\n            xhr.onload = function() {\n                if (xhr.status === 200) {\n                    if(leadFormConfig.redirect) {\n                        let redirectParams = getRedirectParams(formData, leadFormConfig.query)\n\n                        document.location.href = leadFormConfig.redirect + (redirectParams ? '?'+redirectParams : '')\n                    }\n                }\n            };\n            xhr.send(formData);\n        }\n        function initAddress() {\n            let addressInput = leadForm.querySelector('[data-validation=\"address-autocomplete\"]')\n            let addressInputBtn = leadForm.querySelector('[type=\"submit\"]')\n            let autocomplete = new google.maps.places.Autocomplete(addressInput, {\n                types: [\"address\"],\n                componentRestrictions: { country: \"us\" },\n            });\n            let inputStreet = leadForm.querySelector('[name=\"street\"]')\n            let inputCity = leadForm.querySelector('[name=\"city\"]')\n            let inputState = leadForm.querySelector('[name=\"state\"]')\n            let inputZipcode = leadForm.querySelector('[name=\"zipcode\"]')\n\n            addressInput.autocompleteInstance = autocomplete\n            autocomplete.addListener(\"place_changed\", function () {\n                if(addressInput.isValid()){\n                    inputStreet.value = addressInput.dataset.street\n                    inputCity.value = addressInput.dataset.city\n                    inputState.value = addressInput.dataset.state\n                    inputZipcode.value = addressInput.dataset.zipcode\n                }\n                trigger(leadForm, 'lead-form-interaction')\n            });\n            if(addressInputBtn) {\n                addressInputBtn.addEventListener('click', function (e) {\n                    addressInput.closest('.input').classList.remove('is-error')\n                })\n            }\n        }\n\n        telInputMask(phoneInput, {\n            mask: '(xxx) xxx - xxxx',\n            hiddenInput: true\n        })\n        validate(leadForm, {\n            submitFunction: sendAjax,\n            trackErrors: true\n        })\n        initAddress()\n        inputSelect()\n    })\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    sessionStorageUTM()\n    console.log()\n    loadScript(`https://maps.googleapis.com/maps/api/js?key=${formConfig.googleMapsApiKey}&libraries=places`, leadFormCallback);\n});"],"names":["populateUtms","form","formData","utms","page_url","document","location","href","lead_source","localStorage","getItem","timestamp","Date","getTime","client_id","session_id","name","getParams","URLSearchParams","window","search","Object","keys","forEach","utmName","get","set","utmFromQuery","utmFromSession","sessionStorage","formConfig","storagePrefix","getRedirectParams","queries","query","fieldData","inputName","field","propName","key","toString","dynamicListener","events","selector","handler","context","split","event","addEventListener","e","target","matches","closest","call","trigger","el","eventName","params","thisEl","thisEventName","thisParams","newEvent","CustomEvent","bubbles","detail","dispatchEvent","animateHeight","element","duration","startHeight","targetHeight","onComplete","elStyles","getComputedStyle","paddingTop","replace","paddingBottom","clientHeight","currentHeight","style","transition","setTimeout","Infinity","animation","stop","updateHeight","elapsedTime","performance","now","startTime","progress","Math","min","height","toFixed","raf","requestAnimationFrame","overflow","display","stopAnimation","cancelAnimationFrame","type","slideDown","slideUp","animateOpacity","targetOpacity","startOpacity","parseFloat","opacity","currentOpacity","updateOpacity","fadeIn","timeout","afterFunc","fadeOut","sessionStorageUTM","paramsMap","utm_source","utm_campaign","utm_term","utm_medium","utm_content","device","gclid","fbclid","msclkid","getQueryParams","substring","vars","queryParams","i","length","pair","paramName","decodeURIComponent","paramValue","hasOwnProperty","standardizedKey","storeParams","setItem","dropdown","options","opts","globalContainer","containerClass","btnSelector","closeBtnClass","dropdownSelector","timing","effect","closeOnClick","closeOnClickOutside","openTimeout","open","preventDefault","container","thisDropdown","querySelector","classList","contains","close","add","remove","zIndex","console","error","dontClose","dropdownsToClose","querySelectorAll","Array","from","filter","item","dropdownToClose","inputSelect","selectItem","option","text","textContent","trim","value","dataset","outText","outValue","placeholder","isValid","parentElement","children","telInputMask","input","newOpts","defaultOpts","chars","number","letter","placeholders","hiddenInput","mask","clearOnBlur","showOnFocus","onFilled","unmaskedValue","maskedValue","maskArray","firstFillableChar","find","index","isFillable","isMaskCharFillable","createElement","insertAdjacentElement","getUnmaskedValue","onInput","maskedString","result","maskIndex","maskedIndex","replaceAll","test","isCharFillable","char","returnArray","thisValue","finalValue","count","thisMaskArray","valueChar","fillableChar","fillableMaskChar","finalValueLength","setSelectionRange","isFilled","only_num","only_num_replace","email_reg","validationRules","regex","regexReplace","addressAutocomplete","telMask","validationMethods","_","autocompleteField","autocompleteInstance","validity","setCustomValidity","reportValidity","place","getPlace","geometry","streetAddress","city","stateShort","stateLong","zipcode","hasStreetNumber","component","address_components","componentType","types","long_name","short_name","street","state","required","validate","methodsOnInput","submitFunction","highlightFunction","unhighlightFunction","checkOnInput","checkOnInputAfterSubmit","checkOnFocusOut","disableButton","errorClass","dontValidateInputs","inputContainerSelector","formErrorBlock","addInputErrors","trackErrors","validationErrors","methods","regexp","RegExp","getAttribute","elseInputs","hasChecked","checked","elseInput","removeError","password_repeat","password","hasAttribute","tel_mask","checkValidCallback","isValidNumber","minlength","passedValue","maxlength","max","substr","selectAll","printf","string","addToEnd","thisVar","r","getMethodError","methodName","defaultText","variable","dataValidation","errorMessage","formSubmitListener","_this","formSubmitted","inputInputListener","checkDisableButton","valid","inputsSameName","isTypesSame","hasRequired","diffInputs","inputFocusListener","removeRequired","setRequired","inputFocusoutListener","thisInput","clearTimeout","focusoutTimeout","inputChangeListener","thisInputs","oneChecked","allInputs","init","setAttribute","addErrors","arguments","undefined","map","thisInputMethods","push","callback","thisValidation","existingMethod","thisValidationValue","isInputRequired","removeIt","thisInputActualMethods","method","splice","indexOf","setError","message","highlight","errorPlacement","unhighlight","errorRemove","addError","rule","thisRuleValue","thisRuleMessage","updateDefaultFormData","destroy","removeAttribute","removeEventListener","thisMethods","isInputValid","thisMethod","isThisValid","dataLayer","form_id","id","form_name","error_field_label","error_message","submit","invalidInputs","submitHandler","firstInvalidInput","defaultFormData","FormData","currentFormData","formHasChanges","formIsValid","entries","innerHTML","warn","errorEl","append","validateMethods","leadFormCallback","leadForms","leadForm","leadFormConfig","JSON","parse","getElementById","phoneInput","sendAjax","xhr","XMLHttpRequest","formBtn","formName","fullName","country","email","phone","stringify","webhooks","onload","status","redirect","redirectParams","send","initAddress","addressInput","addressInputBtn","autocomplete","google","maps","places","Autocomplete","componentRestrictions","inputStreet","inputCity","inputState","inputZipcode","addListener","log","loadScript","googleMapsApiKey"],"sourceRoot":""}