{"version":3,"file":"s2-header/view.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EACnD,MAAMC,OAAO,GAAG,EAAE,CAACC,KAAK,CAACC,IAAI,CAACJ,QAAQ,CAACK,gBAAgB,CAAC,cAAc,CAAC,CAAC;IACvEC,aAAa,GAAG,GAAG;IACnBC,WAAW,GAAG,EAAE;EAEjBL,OAAO,CAACM,OAAO,CAAC,UAAUC,IAAI,EAAE;IAC/BA,IAAI,CAACR,gBAAgB,CAAC,OAAO,EAAE,UAAUS,CAAC,EAAE;MAC3C;MACAA,CAAC,CAACC,cAAc,CAAC,CAAC;;MAElB;MACA,IAAIC,MAAM,GACTZ,QAAQ,CACNa,aAAa,CAACJ,IAAI,CAACK,YAAY,CAAC,MAAM,CAAC,CAAC,CACxCC,qBAAqB,CAAC,CAAC,CAACC,GAAG,GAAGC,MAAM,CAACC,WAAW;;MAEnD;MACA,IAAIC,QAAQ,GAAGC,WAAW,CAAC,YAAY;QACtC;QACA,IAAIC,QAAQ,GAAGT,MAAM,GAAGL,WAAW;;QAEnC;QACA;QACA,IACCc,QAAQ,GAAGJ,MAAM,CAACC,WAAW,GAAGN,MAAM,IACtCK,MAAM,CAACK,WAAW,GAAGL,MAAM,CAACC,WAAW,GAAGlB,QAAQ,CAACuB,IAAI,CAACC,YAAY,EACnE;UACD;UACAP,MAAM,CAACI,QAAQ,CAAC,CAAC,EAAEA,QAAQ,CAAC;QAC7B,CAAC,MAAM;UACN;UACAJ,MAAM,CAACQ,QAAQ,CAAC,CAAC,EAAEb,MAAM,CAAC;UAC1Bc,aAAa,CAACP,QAAQ,CAAC;QACxB;QACA;MACD,CAAC,EAAEb,aAAa,GAAGC,WAAW,CAAC;IAChC,CAAC,CAAC;EACH,CAAC,CAAC;AACH,CAAC,CAAC,C","sources":["webpack://chris-buys-blocks/./src/s2-header/view.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\tconst anchors = [].slice.call(document.querySelectorAll('a[href*=\"#\"]')),\n\t\tanimationTime = 500,\n\t\tframesCount = 20;\n\n\tanchors.forEach(function (item) {\n\t\titem.addEventListener(\"click\", function (e) {\n\t\t\t// убираем стандартное поведение\n\t\t\te.preventDefault();\n\n\t\t\t// для каждого якоря берем соответствующий ему элемент и определяем его координату Y\n\t\t\tlet coordY =\n\t\t\t\tdocument\n\t\t\t\t\t.querySelector(item.getAttribute(\"href\"))\n\t\t\t\t\t.getBoundingClientRect().top + window.pageYOffset;\n\n\t\t\t// запускаем интервал, в котором\n\t\t\tlet scroller = setInterval(function () {\n\t\t\t\t// считаем на сколько скроллить за 1 такт\n\t\t\t\tlet scrollBy = coordY / framesCount;\n\n\t\t\t\t// если к-во пикселей для скролла за 1 такт больше расстояния до элемента\n\t\t\t\t// и дно страницы не достигнуто\n\t\t\t\tif (\n\t\t\t\t\tscrollBy > window.pageYOffset - coordY &&\n\t\t\t\t\twindow.innerHeight + window.pageYOffset < document.body.offsetHeight\n\t\t\t\t) {\n\t\t\t\t\t// то скроллим на к-во пикселей, которое соответствует одному такту\n\t\t\t\t\twindow.scrollBy(0, scrollBy);\n\t\t\t\t} else {\n\t\t\t\t\t// иначе добираемся до элемента и выходим из интервала\n\t\t\t\t\twindow.scrollTo(0, coordY);\n\t\t\t\t\tclearInterval(scroller);\n\t\t\t\t}\n\t\t\t\t// время интервала равняется частному от времени анимации и к-ва кадров\n\t\t\t}, animationTime / framesCount);\n\t\t});\n\t});\n});\n"],"names":["document","addEventListener","anchors","slice","call","querySelectorAll","animationTime","framesCount","forEach","item","e","preventDefault","coordY","querySelector","getAttribute","getBoundingClientRect","top","window","pageYOffset","scroller","setInterval","scrollBy","innerHeight","body","offsetHeight","scrollTo","clearInterval"],"sourceRoot":""}